<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Hero has a collection of (not necessarily distinct) strings.
You are given this collection in the vector &lt;string&gt; <b>patterns</b>.
Each character in each string is one of '0', '1', '2', and '3'.

Hero also has a string of wildcard characters.
You are given it as the string <b>S</b>.
Each character of <b>S</b> is either 'a' or 'b'.
You are allowed to modify <b>S</b> by changing some (possibly none or all) characters to their uppercase versions: that is 'a' to 'A' and 'b' to 'B'.

The meaning of the wildcard characters in <b>S</b> is as follows:
<ul>
<li>'a' matches small digits: '0' and '1'</li>
<li>'A' matches big digits: '2' and '3'</li>
<li>'b' matches even digits: '0' and '2'</li>
<li>'B' matches odd digits: '1' and '3'</li>
</ul>

We say that <b>S</b> contains an occurrence of the pattern p at position j if for each valid i the wildcard character <b>S</b>[j+i] exists and matches the digit <b>patterns</b>[p][i].

As we already mentioned above, you are allowed to modify <b>S</b> by changing some of its letters to uppercase.
Your goal is to maximize the total number of occurrences of the given patterns in your modified <b>S</b>.
In other words, you want to maximize the number of pairs (p,j) such that your modified <b>S</b> contains an occurrence of the pattern p at position j.

Compute and return the largest possible total number of occurrences of the given patterns in the modified string of wildcards.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>Softmatch</td></tr><tr><td>Method:</td><td>count</td></tr><tr><td>Parameters:</td><td>string, vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int count(string S, vector &lt;string&gt; patterns)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>S</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>S</b> will be either 'a' or 'b'.</td></tr><tr><td align="center" valign="top">-</td><td><b>patterns</b> will contain between 1 and 5 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>patterns</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>patterns</b> will be between '0' and '3', inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>patterns</b> will be at most as long as <b>S</b>.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;aaa&quot;</pre></td></tr><tr><td><pre>{&quot;03&quot;,&quot;21&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">There are two optimal solutions:
<ul>
<li>You may change <b>S</b> to "AaA". This string contains an occurrence of pattern 1 at position 0 and an occurrence of pattern 0 at position 1.</li>
<li>You may change <b>S</b> to "aAa". This string contains an occurrence of pattern 0 at position 0 and an occurrence of pattern 1 at position 1.</li>
</ul>
In either case, the total number of occurrences of a pattern is 2.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;aba&quot;</pre></td></tr><tr><td><pre>{&quot;03&quot;,&quot;11&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">The string "aBa" contains three occurrences of the given patterns: pattern 0 occurs at position 0, and pattern 1 occurs both at position 0 and at position 1.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;bba&quot;</pre></td></tr><tr><td><pre>{&quot;00&quot;,&quot;00&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">Even if two patterns are equal, we count the occurrences of each of them separately.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;bbbbbb&quot;</pre></td></tr><tr><td><pre>{&quot;1110&quot;,&quot;011&quot;,&quot;100&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;abbaa&quot;</pre></td></tr><tr><td><pre>{&quot;123&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;aababbaab&quot;</pre></td></tr><tr><td><pre>{&quot;012&quot;,&quot;332&quot;,&quot;101&quot;, &quot;0313&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 7</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
